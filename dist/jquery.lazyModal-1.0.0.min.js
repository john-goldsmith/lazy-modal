(function(){!function(t,o,e){var i,n,s;i=function(o,e){o&&(this.element=o,this.$element=t(o),this.$element.prop("tagName")&&"string"==typeof this.$element.prop("tagName")&&(this.htmlTag=this.$element.prop("tagName").toLowerCase())),this.allowedEvents=["keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","hover","click","dblclick","focus","blur","focusin","focusout","change","select"],this.allowedTransitionIn=[],this.allowedTransitionOut=[],this.options=t.extend(!0,{},n,e),this._defaults=n,this._name=s,this.options.modalContentSelector=this.options.modalContentSelector&&""!==this.options.modalContentSelector?this.options.modalContentSelector:this.options.modalSelector,this.init()},n={escKey:!0,forceShow:!1,preventDefault:!0,showOverlay:!0,overlaySelector:"#overlay",modalSelector:"#modal",modalContentSelector:"#modal-content",closeSelector:".close-modal",transitionIn:{effect:"fadeIn",duration:"fast"},transitionOut:{effect:"fadeOut",duration:"fast"},height:"auto",width:"auto",remote:{url:!1,type:"get",data:{}},event:"click",xPos:"center",yPos:"center",content:!1,onCloseNavTo:!1,onBeforeShow:!1,onAfterShow:!1,onBeforeHide:!1,onAfterHide:!1},s="lazyModal",i.prototype.init=function(){var i;i=this,this.showOverlay=function(){if(!t(this.options.overlaySelector).is(":visible")&&this.options.overlaySelector&&this.options.transitionIn)switch(this.options.transitionIn.effect){case"fadeIn":t(this.options.overlaySelector).fadeIn(this.options.transitionIn.duration);break;default:t(this.options.overlaySelector).show()}},this.focusFirstFormField=function(){var o;o=t(this.options.modalContentSelector+" input[type=submit],"+this.options.modalContentSelector+" input[type=password],"+this.options.modalContentSelector+" input[type=email],"+this.options.modalContentSelector+" input[type=text],"+this.options.modalContentSelector+" select,"+this.options.modalContentSelector+" textarea").not(".no-auto-focus").first(),(o.parent().hasClass("custom-select")||o.parent().hasClass("custom-checkbox"))&&o.parent(".custom-select, .custom-checkbox").addClass("focus"),o.focus()},this.hideOverlay=function(){if(this.options.overlaySelector&&this.options.transitionOut)switch(this.options.transitionOut.effect){case"fadeOut":t(this.options.overlaySelector).fadeOut(this.options.transitionOut.duration);break;default:t(this.options.overlaySelector).hide()}},this.showModal=function(){if(this.showOverlay(),this.onBeforeShow(),t(this.options.modalSelector).is(":visible"))this.hideModal(!0);else if(this.options.transitionIn)switch(this.options.transitionIn.effect){case"fadeIn":this.injectContent(),this.sizeModal(),this.positionModal(),t(this.options.modalSelector).fadeIn(this.options.transitionIn.duration,function(){i.focusFirstFormField(),i.onAfterShow()});break;default:t(this.options.modalSelector).show(function(){i.injectContent(),i.sizeModal(),i.positionModal(),i.focusFirstFormField(),i.onAfterShow()})}},this.hideModal=function(o){if(this.onBeforeHide(),this.options.transitionOut)switch(this.options.transitionOut.effect){case"fadeOut":t(this.options.modalSelector).fadeOut(this.options.transitionOut.duration,function(){i.removeContent(),o&&i.showModal()});break;default:t(this.options.modalSelector).hide(function(){i.removeContent(),o&&i.showModal()})}this.onAfterHide()},this.injectContent=function(){t(this.options.modalContentSelector).html(this.content)},this.removeContent=function(){t(i.options.modalContentSelector).empty()},this.positionModal=function(){switch(this.options.xPos){case"left":t(this.options.modalSelector).css({left:0});break;case"center":t(this.options.modalSelector).css({left:(t(o).width()-t(this.options.modalSelector).outerWidth())/2});break;case"right":t(this.options.modalSelector).css({right:0});break;default:t(this.options.modalSelector).css({left:(t(o).width()-t(this.options.modalSelector).outerWidth())/2})}switch(this.options.yPos){case"top":t(this.options.modalSelector).css({top:0});break;case"center":t(this.options.modalSelector).css({top:(t(o).height()-t(this.options.modalSelector).outerHeight())/2});break;case"bottom":t(this.options.modalSelector).css({bottom:0});break;default:t(this.options.modalSelector).css({top:(t(o).height()-t(this.options.modalSelector).outerHeight())/2})}},this.sizeModal=function(){t(this.options.modalSelector).css({height:this.options.height,width:this.options.width})},this.bindModalClose=function(){this.options.closeSelector&&t(e).on("click",this.options.closeSelector,function(){i.hideOverlay(),i.hideModal(),i.onCloseNavigateTo()}),this.options.overlaySelector&&t(e).on("click",this.options.overlaySelector,function(){i.hideOverlay(),i.hideModal(),i.onCloseNavigateTo()}),this.options.escKey&&t(e).on("keyup",function(t){27===t.which&&(i.hideOverlay(),i.hideModal(),i.onCloseNavigateTo())})},this.onCloseNavigateTo=function(){this.options.onCloseNavTo&&"string"==typeof this.options.onCloseNavTo&&(o.location=this.options.onCloseNavTo)},this.bindModalOpen=function(){this.options.forceShow||!this.element?this.getContent():this.$element.on(this.options.event,function(){i.getContent()})},this.getContent=function(){this.options.remote.url&&""!==this.options.remote.url?t.ajax({url:this.options.remote.url,type:this.options.remote.type,data:this.options.remote.data,success:function(t){i.content=t,i.showModal()},error:function(){}}):(this.content=this.options.content,this.showModal())},this.bindPreventDefault=function(){this.options.preventDefault&&t(e).on("click",this.$element,function(){})},this.bindWindowResize=function(){t(o).on("resize",function(){i.positionModal()})},this.bindEvents=function(){this.bindModalOpen(),this.bindPreventDefault(),this.bindModalClose(),this.bindWindowResize()},this.destroyModal=function(){},this.onBeforeShow=function(){this.options.onBeforeShow&&"function"==typeof this.options.onBeforeShow&&this.options.onBeforeShow()},this.onAfterShow=function(){this.options.onAfterShow&&"function"==typeof this.options.onAfterShow&&this.options.onAfterShow()},this.onBeforeHide=function(){this.options.onBeforeHide&&"function"==typeof this.options.onBeforeHide&&this.options.onBeforeHide()},this.onAfterHide=function(){this.options.onAfterHide&&"function"==typeof this.options.onAfterHide&&this.options.onAfterHide()},this.checkValidBindEvents=function(){var o,e;if(t.isArray(this.options.event)){e=[];for(o in this.options.event)t.inArray(o,i.allowedEvents)>-1&&e.push(o);this.options.event=e.join(" "),this.bindEvents()}else t.inArray(this.options.event,this.allowedEvents)>-1&&this.bindEvents()},this.exec=function(){this.checkValidBindEvents()},this.exec()},t.lazyModal=t.fn[s]=function(o){return this.selector?this.each(function(){(!t.data(this,"plugin_"+s)||o.forceShow)&&t.data(this,"plugin_"+s,new i(this,o))}):new i(!1,o)}}(jQuery,window,document)}).call(this);